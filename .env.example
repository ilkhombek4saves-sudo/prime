# ══════════════════════════════════════════════════════════════════════════════
# MultiBot — environment configuration
# Copy this file to .env and fill in every value before deploying.
# Generate strong secrets with: openssl rand -hex 32
# ══════════════════════════════════════════════════════════════════════════════

# ── Deployment ────────────────────────────────────────────────────────────────
# Your domain name (Caddy will auto-obtain a TLS certificate via Let's Encrypt)
# Examples:  bot.example.com   or   203.0.113.10  (IP = no TLS)
DOMAIN=your.domain.com

# Application environment (dev | production)
APP_ENV=production
APP_HOST=0.0.0.0
APP_PORT=8000

# ── Database ──────────────────────────────────────────────────────────────────
# DB_PASSWORD is used by both the postgres container and the backend service.
# The DATABASE_URL is auto-built in docker-compose.prod.yml — you only need to
# set it here if you override the compose file or run the backend directly.
DB_PASSWORD=CHANGE_ME_strong_db_password

DATABASE_URL=postgresql+psycopg://postgres:CHANGE_ME_strong_db_password@db:5432/multibot

# ── Security ──────────────────────────────────────────────────────────────────
# Generate with: openssl rand -hex 32
SECRET_KEY=CHANGE_ME_run_openssl_rand_hex_32
JWT_SECRET=CHANGE_ME_run_openssl_rand_hex_32

# JWT token lifetimes
ACCESS_TOKEN_TTL_MINUTES=60
REFRESH_TOKEN_TTL_MINUTES=20160
DEVICE_AUTH_TTL_SECONDS=900
DEVICE_AUTH_POLL_INTERVAL_SECONDS=3

# ── Public URL (used in device auth flow) ─────────────────────────────────────
APP_PUBLIC_URL=https://your.domain.com

# ── Telegram ──────────────────────────────────────────────────────────────────
# Comma-separated list of bot tokens from @BotFather
TELEGRAM_BOT_TOKENS=

# ── LLM providers (fill in the ones you use) ──────────────────────────────────
OPENAI_API_KEY=
GEMINI_API_KEY=
ANTHROPIC_AUTH_TOKEN=
ANTHROPIC_BASE_URL=
MISTRAL_API_KEY=
DEEPSEEK_API_KEY=
QWEN_API_KEY=
KIMI_API_KEY=
ZAI_API_KEY=

# ── Object storage (optional, for file uploads) ───────────────────────────────
S3_ENDPOINT=
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=

# ── Research/web-search settings ──────────────────────────────────────────────
RESEARCH_PROXY_POOL=
RESEARCH_CACHE_TTL_SECONDS=120
RESEARCH_HTTP_TIMEOUT_SECONDS=12
RESEARCH_MAX_RETRIES=3
RESEARCH_PER_HOST_DELAY_MS=450
RESEARCH_ENRICH_RESULTS=2
